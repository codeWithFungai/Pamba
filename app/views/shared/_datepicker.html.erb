<!DOCTYPE html>
<html>
<head>
  <title>Check-in and Checkout Datepicker</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.12.4.js"></script>
  <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
  $( function() {
    var dateFormat = "mm/dd/yy",
      from = $( "#checkin-date" )
        .datepicker({
          defaultDate: "+1w",
          changeMonth: true,
          numberOfMonths: 1
        })
        .on( "change", function() {
          to.datepicker( "option", "minDate", getDate( this ) );
        }),
      to = $( "#checkout-date" ).datepicker({
        defaultDate: "+1w",
        changeMonth: true,
        numberOfMonths: 1
      })
      .on( "change", function() {
        from.datepicker( "option", "maxDate", getDate( this ) );
      });

    function getDate( element ) {
      var date;
      try {
        date = $.datepicker.parseDate( dateFormat, element.value );
      } catch( error ) {
        date = null;
      }
      return date;
    }
  } );
  </script>
</head>
<body>
<%# Dropdown Campus Cities %>

<div class="flex-container">

  <div class="dropdown">
    <button class="dropdown-button">Find your campus</button>

    <div class="dropdown-content">
      <a href="#" class="dropdown-trigger">France</a>

      <div class="dropdown-menu">
      <a href="#">Bordeaux</a>
      <a href="#">Lille</a>
      <a href="#">Lyon</a>
      <a href="#">Marseille</a>
      <a href="#">Nantes</a>
      <a href="#">Nice</a>
      <a href="#">Paris</a>
      <a href="#">Rennes</a>
      <a href="#">Toulouse</a>
      </div>

      <a href="#" class="dropdown-trigger">Europe</a>
      <div class="dropdown-menu">
       <a href="#">Amsterdam</a>
        <a href="#">Barcelona</a>
        <a href="#">Berlin</a>
        <a href="#">Brussels</a>
        <a href="#">Cologne</a>
        <a href="#">Lausanne</a>
        <a href="#">Lisbon</a>
        <a href="#">London</a>
        <a href="#">Madrid</a>
        <a href="#">Munich</a>
        <a href="#">Porto</a>
        <a href="#">Zurich</a>
      </div>
      <a href="#" class="dropdown-trigger">Asia Pacific</a>
      <div class="dropdown-menu">
        <a href="#">Bali</a>
        <a href="#">Melbourne</a>
        <a href="#">Shanghai</a>
        <a href="#">Singapore</a>
        <a href="#">Tokyo</a>
      </div>
      <a href="#" class="dropdown-trigger">Americas</a>
      <div class="dropdown-menu">
        <a href="#">Buenos Aires</a>
        <a href="#">Mexico</a>
        <a href="#">Montreal</a>
        <a href="#">Rio de Janeiro</a>
        <a href="#">Santiago</a>
        <a href="#">SÃ£o Paulo</a>
      </div>
      <a href="#" class="dropdown-trigger">Africa</a>
      <div class="dropdown-menu">
        <a href="#">Cape Town</a>
        <a href="#">Casablanca</a>
        <a href="#">Mauritius</a>
      </div>
      <a href="#" class="dropdown-trigger">Middle-East</a>
      <div class="dropdown-menu">
        <a href="#">Dubai</a>
      </div>
</div>
</div>

<script>
const dropdownButton = document.querySelector('.dropdown-button');
const dropdownContent = document.querySelector('.dropdown-content');
const dropdownTriggers = document.querySelectorAll('.dropdown-trigger');

// Hide all the nested dropdown menus initially
const dropdownMenus = document.querySelectorAll('.dropdown-menu');
dropdownMenus.forEach(menu => menu.style.display = 'none');

dropdownContent.addEventListener('click', function(event) {
  event.preventDefault();
  dropdownButton.textContent = event.target.textContent;

  // Show the nested dropdown menu for the selected option
  const selectedTrigger = event.target.classList.contains('dropdown-trigger') ? event.target : event.target.parentElement;
  const selectedMenu = selectedTrigger.nextElementSibling;
  dropdownMenus.forEach(menu => menu.style.display = menu === selectedMenu ? 'block' : 'none');
});

// Add click event listeners to the nested dropdown triggers
dropdownTriggers.forEach(trigger => {
  trigger.addEventListener('click', function(event) {
    event.preventDefault();

    // Show the nested dropdown menu for the selected option
    const selectedMenu = event.target.nextElementSibling;
    dropdownMenus.forEach(menu => menu.style.display = menu === selectedMenu ? 'block' : 'none');
  });
</script> %>
 <form class="search_form" action="<%=listings_path %>">
 <label for="location"></label>
  <input placeholder="location" type="text" id="location" name="location">

  <label for="checkin_date"></label>
  <input placeholder="Check-in date" type="text" id="checkin_date" name="checkin_date">

  <label for="checkout_date"></label>
  <input placeholder="Check-out date" type="text" id="checkoutdate" name="checkout_date">

  <button type="submit"><i class="fa fa-search"></i></button>
  </form>
</div>
  </div>
</div>
</body>
</html>

// <%# <div class="flex-container">
// <div class="dropdown">
//   <button class="dropdown-button">Find your campus</button>
//   <div class="dropdown-content">
//     <a href="#">France</a>
//     <a href="#">Europe</a>
//     <a href="#">Asia Pacific</a>
//     <a href="#">Americas</a>
//     <a href="#">Africa</a>
//     <a href="#">Middle-East</a>
//   </div>
// </div>

// <script>
//   const dropdownButton = document.querySelector('.dropdown-button');
//   const dropdownContent = document.querySelector('.dropdown-content');

//   dropdownContent.addEventListener('click', function(event) {
//     event.preventDefault();
//     dropdownButton.textContent = event.target.textContent;
//   });
// </script> %>
